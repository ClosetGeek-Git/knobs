<!DOCTYPE HTML>
<html>
<head>
	<title>Knob - Canvas</title>
	<link rel="stylesheet" href="asset/ui.css" />
	<script src="../Knob.js"></script>

</head>
<body>
	<div id="shapePositionContainer" class="container">
		<canvas id="shapePosition"></canvas>
	</div>
	<div id="shapeRotateContainer" class="container">
		<canvas id="shapeRotate"></canvas>
	</div>
	<div id="shapePositionRotateContainer" class="container">
		<canvas id="shapePositionRotate"></canvas>
	</div>

	<div id="settings">
		<div><label for="knobAngle">Angle: </label><input type="text" id="knobAngle" size="5" value="0"/></div>
		<div><label for="knobValue">Value: </label><input type="text" id="knobValue" size="5" value="0"/></div>

		<div><label for="scrollingX">ScrollingX: </label><input type="checkbox" id="scrollingX" checked/></div>
		<div><label for="scrollingY">ScrollingY: </label><input type="checkbox" id="scrollingY" checked/></div>

		<div><label for="minZoom">Min Zoom: </label><input type="text" id="minZoom" size="5" value="0.5"/></div>
		<div><label for="maxZoom">Max Zoom: </label><input type="text" id="maxZoom" size="5" value="3"/></div>
		<div><label for="zoomLevel">Zoom Level: </label><input type="text" id="zoomLevel" size="5"/></div>
		<div><button id="zoom">Zoom to Level</button><button id="zoomIn">+</button><button id="zoomOut">-</button></div>
	</div>
<!--
-->


	<!-- mouse/touch events -->
	<script src="asset/ui.js"></script>

 	<!-- Custom rendering code -->
	<script type="text/javascript">


	var fillCircle = function(context, x, y, radius) {
		context.beginPath();
		context.arc(x, y, radius, 0, Math.PI*2, true);
		context.closePath();
		context.fill();
	}

	var shapePositionKnobContainer = document.getElementById("shapePositionContainer");
	var shapePositionKnobContext = document.getElementById("shapePosition").getContext('2d');
	var shapePositionKnob = new Knob(function(knobData) {
			var knobRadius = 25,
				indicatorRadius = 4;

			shapePositionKnobContext.clearRect(0, 0, knobData.knob.__clientWidth, knobData.knob.__clientWidth);

			//draw the knob background
			shapePositionKnobContext.fillStyle = "#008";
			fillCircle(shapePositionKnobContext, knobData.knob.__clientWidth/2, knobData.knob.__clientHeight/2, knobRadius);

			//draw the knob indicator
			shapePositionKnobContext.fillStyle = "#efefef";
			fillCircle(shapePositionKnobContext, knobData.indicator.x, knobData.indicator.y, indicatorRadius);
		}, {
		angleStart:-400,
		angleEnd:360,
		indicatorRadius: 18,
		indicatorStartAngle: 0,
		indicatorAutoPosition: true
	});


	var shapeRotateKnobContainer = document.getElementById("shapeRotateContainer");
	var shapeRotateKnobContext = document.getElementById("shapeRotate").getContext('2d');
	var shapeRotateKnob = new Knob(function(knobData) {
			var knobRadius = 25,
				indicatorW = knobRadius*2,
				indicatorH = 5;

			shapeRotateKnobContext.clearRect(0, 0, knobData.knob.__clientWidth, knobData.knob.__clientWidth);

			//draw the knob background
			shapeRotateKnobContext.fillStyle = "#008";
			fillCircle(shapeRotateKnobContext, knobData.knob.__clientWidth/2, knobData.knob.__clientHeight/2, knobRadius);

			shapeRotateKnobContext.save();

			shapeRotateKnobContext.translate(knobData.knob.__clientWidth/2, knobData.knob.__clientHeight/2);
			shapeRotateKnobContext.rotate(-knobData.indicator.angle*(Math.PI/180));

			//draw the knob indicator
			shapeRotateKnobContext.fillStyle = "#efefef";
			shapeRotateKnobContext.fillRect(-indicatorW/2, -indicatorH/2, indicatorW, indicatorH);

			shapeRotateKnobContext.restore();
		}, {
		angleStart:-400,
		angleEnd:360,
		indicatorStartAngle: 0,
		indicatorAutoRotate: true
	});


	var shapePositionRotateKnobContainer = document.getElementById("shapePositionRotateContainer");
	var shapePositionRotateKnobContext = document.getElementById("shapePositionRotate").getContext('2d');
	var shapePositionRotateKnob = new Knob(function(knobData) {
			var indicatorW = 10;
			var indicatorH = 5;

			shapePositionRotateKnobContext.clearRect(0, 0, knobData.knob.__clientWidth, knobData.knob.__clientWidth);

			//draw the knob background
			shapePositionRotateKnobContext.fillStyle = "#008";
			fillCircle(shapePositionRotateKnobContext, knobData.knob.__clientWidth/2, knobData.knob.__clientHeight/2, knobData.knob.options.indicatorRadius+indicatorH);

			shapePositionRotateKnobContext.save();

			shapePositionRotateKnobContext.translate(knobData.indicator.x, knobData.indicator.y);
			shapePositionRotateKnobContext.rotate(-knobData.indicator.angle*(Math.PI/180));

			//draw the knob indicator
			shapePositionRotateKnobContext.fillStyle = "#efefef";
			shapePositionRotateKnobContext.fillRect(-indicatorW/2, -indicatorH/2, indicatorW, indicatorH);

			shapePositionRotateKnobContext.restore();
		}, {
		angleStart:-400,
		angleEnd:360,
		indicatorRadius: 20,
		indicatorStartAngle: 0,
		indicatorAutoPosition: true,
		indicatorAutoRotate: true
	});


	setupKnob(shapePositionKnob, shapePositionKnobContainer);
	setupKnob(shapeRotateKnob, shapeRotateKnobContainer);
	setupKnob(shapePositionRotateKnob, shapePositionRotateKnobContainer);

	</script>


</body>
</html>
